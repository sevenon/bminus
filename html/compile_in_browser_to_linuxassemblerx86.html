<html>

<script src="web_browser_adapter.js"></script>
<script src="bminus_linuxassemblerx86.js"></script>

<script type="text/javascript">
    function run_compiler() {
        stdin_str = document.getElementById("source_code").value;
        compile();
        document.getElementById("compiler_output").value = stdout_str;
        document.getElementById("compiler_error_output").value = stderr_str;
    }
</script>

<span>Enter B- program source code</span><br/>
<textarea rows="25" cols="132" id="source_code" style="white-space:pre; overflow-x: scroll;">
main() {
    write("Hello world\n");
}

write(char str[]) {
	int i;

	i = 0;
	while (str[i] != 0) {
		fputc(str[i], stdout);
		i = i + 1;
	}
}
</textarea>
<br/>
<br/>
<button type="button" onclick="run_compiler()">Compile program to Linux X86 assembly language</button>
<br/>
<textarea rows="25" cols="132" id="compiler_output" style="white-space:pre; overflow-x: scroll;">
</textarea>
<br/>
<br/>
<span>Compiler error messages</span><br/>
<textarea rows="8" cols="132" id="compiler_error_output" style="white-space:pre; overflow-x: scroll;">
</textarea>
<br/>
<br/>
Compiling and running the assembler output:
<ol>
<li>Copy and paste the output to the file: program.asm</li>
<li>Run assembler: as -o program.o program.asm</li>
<li>Run linker: ld -o program program.o</li>
<li>Run program: ./program</li>
</ol>
</html>
